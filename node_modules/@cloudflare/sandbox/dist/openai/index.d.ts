import { t as Sandbox } from "../sandbox-DAb6o08K.js";
import { ApplyPatchOperation, ApplyPatchResult, Editor as Editor$1, Shell as Shell$1, ShellAction, ShellResult } from "@openai/agents";

//#region src/openai/index.d.ts

interface CommandResult {
  command: string;
  stdout: string;
  stderr: string;
  exitCode: number | null;
  timestamp: number;
}
interface FileOperationResult {
  operation: 'create' | 'update' | 'delete';
  path: string;
  status: 'completed' | 'failed';
  output: string;
  error?: string;
  timestamp: number;
}
/**
 * Shell implementation that adapts Cloudflare Sandbox exec calls to the
 * OpenAI Agents `Shell` contract, including structured result collection.
 */
declare class Shell implements Shell$1 {
  private readonly sandbox;
  private cwd;
  results: CommandResult[];
  private readonly logger;
  constructor(sandbox: Sandbox);
  run(action: ShellAction): Promise<ShellResult>;
}
/**
 * Editor implementation that projects applyPatch operations from Agents
 * into calls against the sandbox filesystem APIs.
 */
declare class Editor implements Editor$1 {
  private readonly sandbox;
  private readonly root;
  results: FileOperationResult[];
  private readonly logger;
  constructor(sandbox: Sandbox, root?: string);
  /**
   * Create a new file inside the sandbox by applying the provided diff.
   */
  createFile(operation: Extract<ApplyPatchOperation, {
    type: 'create_file';
  }>): Promise<ApplyPatchResult | undefined>;
  /**
   * Update an existing file by reading its content, applying a diff, and
   * writing the patched output back to the sandbox.
   */
  updateFile(operation: Extract<ApplyPatchOperation, {
    type: 'update_file';
  }>): Promise<ApplyPatchResult | undefined>;
  /**
   * Delete a file that was previously created through applyPatch calls.
   */
  deleteFile(operation: Extract<ApplyPatchOperation, {
    type: 'delete_file';
  }>): Promise<ApplyPatchResult | undefined>;
  private resolve;
  private getDirname;
}
//#endregion
export { CommandResult, Editor, FileOperationResult, Shell };
//# sourceMappingURL=index.d.ts.map